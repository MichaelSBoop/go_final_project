
# Планировщик задач

Данная программа позволяет создавать задачи в соответствии с заданными критериями.
* Версия Go: 1.22.1

## Выполнение поставленных задач:
- [x] Весь базовый функционал: добавление, чтение, редактирование и удаление задач (1.0.0)
- [x] Определение порта из окружения (1.0.0)
- [x] Определение пути к базе данных из переменной окружения (1.0.0)
- [ ] Поисковая строка
- [ ] Добавление задач с повторением по дням недели и месяцам (In development...)
- [ ] Аутентификация
- [x] Docker-контейнер (1.0.0)
- [x] Makefile (1.1.0)

## Установка проекта

Чтобы запустить планировщик задач, можно собрать Docker образ и запустить на его основе контейнер или же создать исполняемый файл

### Создание Docker-контейнера

Создайте образ следующей командой:
```bash
docker build --tags go_final_project:v1.0 .
```
После этого запустите контейнер:
```bash
docker run -d -p 7540:7540 go_final_project
```
На данном этапе страница с рабочим приложением может быть открыта по порту 127.0.0.1:7540

### Создание и запуск исполняемого файла

Чтобы запустить программу, нужно собрать исполняемый файл данной командой:
```bash
go build -o ./
```
Если сборка завершена успешно, можно запустить программу:
```bash
./go_final_project
```
Также данный метод сборки программы позволяет провести набор тестов. Делается это данной командой:
```bash
go test ./tests
```
**Примечание**: на данный момент в файле tests/settings.go реализованными являются только переменные Port и DBFile. С расширением функционала количество используемых в тестах переменных может измениться
При успешном выполнении всех предыдущих шагов программа будет работать на порте 127.0.0.1:7540 

### Поддержка переменных окружения
Есть возможность установить свои порты работы программы и место хранения базы данных в файле .env:
```env
TODO_PORT=<ваш порт>
TODO_DBFILE=<путь к файлу>
```

__________________________________________________

Version 1.1.0
### Makefile
В версии 1.1.0 вы можете воспользоваться устилитой make чтобы запустить, собрать образ и контейнер приложения, а также протестировать его. Вот набор команд, поддерживаемый make:
```shell
make run # Запустить приложение
make exe # Собрать приложение в исполняемый файл в директории /app
make image # Создать Docker-образ приложения
make container # Собрать и запустить контейнер с приложением
make testall # Запустить тесты (сперва запустите само приложение)
``` 
Помимо этого, если вы решите создать контейнер, то сможете хранить записи базы данных после его остановки.